![Git logo](logo@2x.png)
# Работа с Git

## 1. Проверка наличия установленного Git
В терминале выполнить команду `git version`. Если Git установлен, то появится сообщение с информацией о версии программы. Иначе появится сообщение об ошибке.

## 2. Установка Git
Загружаем последнюю версию Git с сайта:

https://git-scm.com/downloads 

Устанавливаем с настройками по умолчанию.

## 3. Настройка Git
При первом использовании Git необходимо представиться. Для этого необходимо ввести в терминале две команды:
```
git config --global user.name 'User name'
git config --global user.email johndoe@example.com
```

## 4. Создание репозитория
Получить репозиторий можно двумя способами.
1. Для создания нового репозитория в желаемой папке открываем ее в терминале и выполняем команду `git init`.
1. Для клонирования существующего репозитория на сервере в терминале выполняем команду `git clone <url>`.

## 5. Запись изменений в репозиторий.
 * Если файл еще не был добавлен в репозиторий нужно его добавить выполнив команду `git add <file name>` или `git add .`. Последняя команда проиндексирует все файлы в папке. 
 * В процессе работы можно проверить есть ли изменения в текущем файле относительно последнего сохранения выполнив в терминале команду `git status`. Если измения есть их можно проиндексировать командой `git add`. 
 * После индексайии файл можно сохранить в проиндексированном виде выполнив команду `git commit`. После выполнения команды откроется окно текстового редактора для добавления комментария в коммит. Для упрощенния работы можно добавить комментарий сразу в одной строке с командой `git commit`, добавив после нее параметр `-m` и следом сам комменарий в кавычках.
 * После индексации файла можно просмотреть какие были внесены изменения относительно последнего коммита. Для этого нужно выполнить команду `git diff`.
 * Индексацию файла можно объединить с коммитом в одну стоку исрользовов команду коммита с параментом `-am`.

 # 6. Просмотр истории коммитов
 Чтобы посмотреть историю коммитов нужно выполнить команду `git log`. Для комапактного вывода истории можно использовать опцию `--oneline`. Для того чтобы увидеть конкретные изменения в каждом коммите можно использовать опцию `-p`.

 # 7. Перемещение между коммитами
 Для премещения между коммитами необходимо знать первые четыре символа хеша коммита к которому необходимо перейти. Хеш можно получить из истории коммитов. Выполнив команду `git checkout <hash>` мы восстановим наши файлы до состояния сохраненного в данном коммите. Для перехода к последнему коммиту нужно выполнить команду `git checkout master`.

 # 8. Операции отмены
 Для отмены индексации одного из проиндексированных файлов, необходимо выполинть команду `git reset HEAD <file>`.

 Для отмены изменений файла нужно выполинть команду `git checkout -- <file>`.

 Если необходимо передаелать коммит, то необходимо выполнить команду `git commit --amend`. Если вы ничего не меняли с момента последнего коммита, то можно изменить сообщение к коммиту. По сути коммит не исменяется, а заменяется на новый.   

# 9. Игнорирование файлов
Для того чтобы дать указание Git не отслеживать определенный файл или группу файлов необходимо создать файл .gitignore и записать в файле название игнорируемых файлов или шаблон имен игнорируемых файлов.

Пример файла .gitignore взятый с https://git-scm.com/book :
```
# Исключить все файлы с расширением .a
*.a

# Но отслеживать файл lib.a даже если он подпадает под исключение выше
!lib.a

# Исключить файл TODO в корневом каталоге, но не файл в subdir/TODO
/TODO

# Игнорировать все файлы в каталоге build/
build/

# Игнорировать файл doc/notes.txt, но не файл doc/server/arch.txt
doc/*.txt

# Игнорировать все .txt файлы в каталоге doc/
doc/**/*.txt
```

# 10. Ветвление в Git
* Создание ветки - для того чтобы создать ветку нужно выполнить команду `git branch <branch name>`.
* Переключение между веток - для переключения между ветками нужно выполнить команду `git checkout <branch name>`.
* Слияние веток - для того чтобы выполнить слияние какой-либо ветки в текущую, нужно выполнить команду `git merge <branch name>`.
* Разрешение конфликтов - при возникновении конфликтов (когда Git не может сомастоятельно слить 2 ветки) необходимо в ручном режиме откорректировать итоговый файл для слияния и проиндексировать файл коандой `git add`. 
* Для удаления ветки нужно использовать параметр `-d`, выполняя команду `git branch -d <branch name>`.

# 11. Работа с удаленными репозиториями
## Добавление удаленного репозория
Для того, чтобы просмотреть список настроенных удалённых репозиториев, вы можете запустить команду `git remote`. Она выведет названия доступных удалённых репозиториев. Если репозиторий был клонирован с помощью команды `git clone` то мы увидим как минимум ***origin***. Можно также указать ключ -v, чтобы просмотреть адреса для чтения и записи, привязанные к репозиторию. Для того, чтобы добавить удалённый репозиторий и присвоить ему имя (shortname), нужно выполнить команду `git remote add <shortname> <url>`.
## Получение данных из удаленного репозитория
Для получения данных из удалённых проектов, следует выполнить `git fetch <remote-name>`. Данная команда связывается с указанным удалённым проектом и забирает все те данные проекта, которых у вас ещё нет. **Важно**, что команда `git fetch` забирает данные в ваш локальный репозиторий, **но не сливает** их с какими-либо вашими наработками и **не модифицирует** то, над чем вы работаете в данный момент. Выполнение `git pull`, извлекает (fetch) данные с сервера, с которого вы изначально клонировали, и автоматически пытается слить (merge) их с кодом, над которым вы в данный момент работаете.
## Отправка изменений в удаленный репозиторий
Чтобы отправить изменения в удаленный репозиторий нужно выполнить команду `git push <remote-name> <branch-name>`. Чтобы отправить ветку master на сервер origin  нужно выполнить `git push origin master`. Эта команда срабатывает только в случае, если вы клонировали с сервера, на котором у вас есть права на запись.
## Внесение изменений в чужие проекты
Для того чтобы внести изменения в репозиторий для которого у нас нет прав на внесения изменений путём отправки (push) изменений, можно создать своё собственное ответвление (fork) проекта. GitHub создаст нашу собственную копию проекта и мы сможем легко делать изменения путём отправки (push) изменений. Для того, чтобы создать ответвление проекта, зайдите на страницу проекта и нажмите кнопку «Создать ответвление» («Fork»), которая расположена в правом верхнем углу. 

После внесения изменений в свою копию проекта, можно создать запрос на слияние наших изменений с основным репозиторием проекта. Для этого нужно нажать кноку **«Create pull request»**. После создания запроса на слияние владелец основного проекта получит уведомление о предложенных изменениях со ссылкой на страницу с информацией о запросе.

По правилу хорошего тона изменеия в своей копии(форке) следует добавлять не в master/main, а отдельную ветку.